<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-EBEWV39ERR"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'G-EBEWV39ERR');
        </script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-light-grey.css">
        <style>
            html * {
            font-family: "CMU Serif", "NewComputerModern08", serif;
            font-size: 14pt;
            }
            table, td, th {
            border: 1px solid #000000;
            border-radius: 4px;
            overflow-x: auto;
            padding: 11px;
            tab-size: 4;
            }
            table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 4px;
            overflow-x: auto;
            box-shadow: inset 0px 0px 11px #000000;
            }
            td {
            text-align: center;
            }
            pre::-webkit-scrollbar {
            }
            pre::-webkit-scrollbar-thumb {
            border-radius: 4px;
            }
            pre {
            border-radius: 4px;
            overflow-x: auto;
            padding: 11px;
            tab-size: 4;
            box-shadow: inset 0px 0px 11px #000000;
            }
            h2 {
            border-radius: 4px;
            padding: 11px;
            box-shadow: inset 0px 0px 11px #000000;
            }
            h3 {
            border-radius: 4px;
            padding: 11px;
            box-shadow: inset 0px 0px 11px #000000;
            }
        </style>
        <script src="https://www.w3schools.com/lib/w3.js"></script>
        <script src="https://kit.fontawesome.com/d86587f6b0.js" crossorigin="anonymous"></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script>
            MathJax = {
            tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
        </script>
        <meta name="google-site-verification" content="D_xhtDMVJ2sJX7J5juAYErwdxwjo1RSzl2kqpa5RQkI"/>
        <meta name='dmca-site-verification' content='UmZpZExmc3JDdDdUMzFoY3RBbnArK3Q1ZW1CYWJJV3VsWW8ybmlDMUVXYz01'/>
        <title>cfdCode cpp 1D Diffusion Equation</title>
        <meta charset="utf-8">
        <link rel="icon" href="/assets/img/brand/es-logo.png" type="image/png"/>
        <meta name="author" content="[object Object]">
        <meta name="description" content="sonu sharma is a phd in mechanical engineering">
    </head>
    <body class="w3-light-grey">
        <div class="w3-content w3-margin-top" style="max-width:1400px;">
        <div style="box-shadow: inset 0px 0px 11px #000000; width: 300px; z-index:3;" class="w3-mobile w3-round w3-padding-24 w3-sidebar w3-collapse w3-large" id="mySidebar">
            <div class="w3-bar w3-center">
                <a class="w3-bar-item w3-button" style="width:33.33%" href="javascript:void(0)" onclick="openNav('nav01')"><i class="fa fa-bars w3-xlarge"></i></a>
                <a class="w3-bar-item w3-button" style="width:33.33%" href="javascript:void(0)" onclick="openNav('nav02')"><i class="fa fa-calculator w3-xlarge"></i></a>
                <a class="w3-bar-item w3-button" style="width:33.33%" href="javascript:void(0)" onclick="openNav('nav03')"><i class="fa fa-user-graduate w3-xlarge"></i></a>
            </div>

            <div id="nav01" class="w3-bar-block">
                <a class="w3-button w3-hide-large w3-large w3-right" href="javascript:void(0)" onclick="w3_close()">×</a>
                <a class="w3-bar-item w3-button w3-border-bottom w3-xxlarge w3-center" href=".">esonusharma</a>
                <a class="w3-bar-item w3-button" href="/">
                    <i class="fas fa-house"></i>
                    Home</a>
                <a class="w3-bar-item w3-button" href="/profile.html">
                    <i class="fas fa-user-tie"></i>
                    Profile</a>
                <a class="w3-bar-item w3-button" href="/resources.html">
                    <i class="fas fa-book fa-beat-fade"></i>
                    Resources</a>
                <a class="w3-bar-item w3-button" href="/trade.html">
                    <i class="fas fa-line-chart"></i>
                    Trade</a>
                <a class="w3-bar-item w3-button" target="_blank" rel="nofollow noopener" href="https://www.youtube.com/@esonusharma">
                    <i class="fas fa-circle-play"></i>
                    Youtube</a>
                <a class="w3-bar-item w3-button" href="/tags/">
                    <i class="fas fa-tags"></i>
                    Tags</a>
                <a class="w3-bar-item w3-button" href="/posts/">
                    <i class="fas fa-file-zipper"></i>
                    Archives</a>
                <a class="w3-bar-item w3-button" href="/weblog.html">
                    <i class="fas fa-blog"></i>
                    Weblog</a>
                <a class="w3-bar-item w3-button" href="/legal.html">
                    <i class="fas fa-gavel"></i>
                    Legal</a>
                <a class="w3-bar-item w3-button" href="/contact.html">
                    <i class="fas fa-envelope"></i>
                    Contact</a>
                <a class="w3-bar-item w3-button" target="_blank" href="/sitemap.xml">
                    <i class="fas fa-sitemap"></i>
                    Sitemap</a>
                <a class="w3-bar-item w3-button" target="_blank" rel="nofollow noopener" href="/feed.xml">
                    <i class="fas fa-rss"></i>
                    Feed</a>
            </div>

            <div id="nav02">
                <a class="w3-button w3-hide-large w3-large w3-right" href="javascript:void(0)" onclick="w3_close()">×</a>
                <a class="w3-bar-item w3-button w3-border-bottom w3-xxlarge w3-center">Calculators</a><br>
                <a class="w3-bar-item w3-button" href="/cfdcalculator.html"><i class="fas fa-calculator"></i> cfdCalculator</a>
            </div>

            <div id="nav03">
                <a class="w3-button w3-hide-large w3-large w3-right" href="javascript:void(0)" onclick="w3_close()">×</a>
                <a class="w3-bar-item w3-button w3-border-bottom w3-xxlarge w3-center">Courses</a><br>
                <a class="w3-bar-item w3-button" href="/cfd.html"><i class="fas fa-fan"></i> CFD</a><br>
                <a class="w3-bar-item w3-button" href="/cpp.html"><i class="fas fa-code"></i> C++</a><br>
                <a class="w3-bar-item w3-button" href="/mathematics.html"><i class="fas fa-infinity"></i> Mathematics</a><br>
                <a class="w3-bar-item w3-button" href="/physics.html"><i class="fas fa-space-shuttle"></i></i> Physics</a><br>
                <a class="w3-bar-item w3-button" href="/fluid-mechanics.html"><i class="fas fa-wind"></i> Fluid Mechanics</a><br>
                <a class="w3-bar-item w3-button" href="/thermodynamics.html"><i class="fas fa-fire"></i> Thermodynamics</a><br>
            </div>
        </div>

        <div class="w3-overlay w3-hide w3-hide-medium w3-hide-large" onclick="w3_close()" style="cursor:pointer" id="myOverlay"></div>

        <div style="margin-left:300px;" class="3-main">
            <div class="w3-top w3-theme w3-large w3-hide-large">
                <i class="fa fa-bars w3-button w3-teal w3-xlarge" onclick="w3_open()"></i>
            </div>

            <header style="border-radius: 4px; padding: 11px; margin: 11px; box-shadow: inset 0px 0px 11px #000000;" class="w3-container w3-theme w3-center">
                <h1 class="w3-xxxlarge w3-padding-16">cfdCode cpp 1D Diffusion Equation</h1>
            </header>

            <div style="border-radius: 4px; padding: 11px; margin:11px; box-shadow: inset 0px 0px 11px #000000;">
                <p style="border-radius: 4px; padding: 4px; box-shadow: inset 0px 0px 11px #000000;">Posted on: Tue Feb 06 2024 05:30:00 GMT+0530 (India Standard Time)</p>
                <h2>cfdCode c++ 1D Diffusion Equation</h2>
<ol>
<li>source file</li>
</ol>
<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &quot;gnuplot-iostream.h&quot;

using namespace std;

int main() {
    Gnuplot gp;
    int nx = 41;
    double dx = 2.0 / (nx - 1);
    int nt = 20;
    double nu = 0.3;
    double k = 0.2;
    double dt = k * pow(dx, 2) / nu;

    vector&lt;double&gt; u(nx, 1.0);
    for (int i = int(0.5 / dx); i &lt;= int(1 / dx); i++) {
        u[i] = 2.0;
    }

    vector&lt;double&gt; un(nx, 1.0);
    for (int n = 1; n &lt;= nt; n++) {
        un = u;
        for (int i = 1; i &lt; nx - 1; i++) {
            u[i] = un[i] + nu * dt / pow(dx, 2) * (un[i+1] - 2 * un[i] + un[i-1]);
        }
    }

    ofstream outfile(&quot;output.dat&quot;);

    for (int i = 0; i &lt; nx; i++) {
        outfile &lt;&lt; i * dx &lt;&lt; &quot; &quot; &lt;&lt; u[i] &lt;&lt; &quot;\n&quot;;
    }
    outfile.close();
    gp &lt;&lt; &quot;set title 'x vs u graph'\n&quot;;
	gp &lt;&lt; &quot;set xlabel 'x'\n&quot;;
	gp &lt;&lt; &quot;set ylabel 'u'\n&quot;;	
	gp &lt;&lt; &quot;set grid\n&quot;;
    gp &lt;&lt; &quot;set xtics rotate by 90 right\n&quot;;
//	gp &lt;&lt; &quot;set term png\n&quot;;
//	gp &lt;&lt; &quot;set output 'sample-csv.png'\n&quot;;
	gp &lt;&lt; &quot;plot('output.dat') using 2:xticlabel(1) with linespoints\n&quot;;

    return 0;
}

</code></pre>
<ol start="2">
<li><a href="https://github.com/dstahlke/gnuplot-iostream/blob/master/gnuplot-iostream.h">gnuplot header file</a></li>
</ol>
<p>copy the text from above link, paste it in a text file, save this file with extension &quot;.h&quot; as &quot;gnuplot-iostream.h&quot; in the same folder of the source code.</p>

                <br>
                <div style="border-radius: 4px; padding: 11px; box-shadow: inset 0px 0px 11px #000000;">
                    <footer class="w3-justify">
                        <h2>Important Note</h2>
                        <p>We hope this article helped you. If you have any suggestions/queries regarding this article, or if you need to contact us, then do it
                            <a href="https://esonusharma.github.io/contact.html" target="_blank">here</a>.
                            <br>
                            <br>
                            OpenFOAM® and OpenCFD® are registered trademarks of OpenCFD Limited, the producer of OpenFOAM software. All registered trademarks are property of their respective owners.<br>
                            <br>
                            This offering is not approved or endorsed by OpenCFD Limited, the producer of the OpenFOAM software and owner of the OPENFOAM® and OpenCFD® trade marks.<br>
                            <br>
                            <a href="https://esonusharma.github.io/ad.html" target="_blank" ref="nofollow">Affiliate Disclosure</a>
                            <br>
                            This site contains affiliate links to products. We may receive a commission for purchases made through these links. Keep in mind that we may receive commissions when you click our links and make purchases. However, this does not impact our reviews and comparisons. We try our best to keep things fair and balanced, in order to help you make the best choice for you.<br>
                            <br>
                            <a href="https://esonusharma.github.io/legal.html" target="_blank" ref="nofollow">
                                Our Policies</a>
                            <br>By continuing to browse the site you are agreeing to our
                            <a href="https://www.aboutcookies.org/" target="_blank" rel="nofollow">use of cookies</a>
                            and
                            <a href="https://esonusharma.github.io/legal.html" target="_blank">policies</a>.</p><hr>
                        <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400">
                            © 2022-24
                             esonusharma.github.io 
                            - all rights reserved.
                        </span>
                        <a href="//www.dmca.com/Protection/Status.aspx?ID=385ea6f9-5b52-4d69-99b3-a42282a9076d" title="DMCA.com Protection Status" class="dmca-badge">
                            <img src="https://images.dmca.com/Badges/dmca_protected_27_120.png?ID=385ea6f9-5b52-4d69-99b3-a42282a9076d" alt="DMCA.com Protection Status" style="width: 50px !important; height: 28px !important;" align="right"/>
                        </a>
                        <script src="https://images.dmca.com/Badges/DMCABadgeHelper.min.js"></script>
                    </footer>
                </div>
            </div>
        </div>
        <script>
            function w3_open() {
                document
                    .getElementById("mySidebar")
                    .style
                    .display = "block";
                document
                    .getElementById("myOverlay")
                    .style
                    .display = "block";
            }

            function w3_close() {
                document
                    .getElementById("mySidebar")
                    .style
                    .display = "none";
                document
                    .getElementById("myOverlay")
                    .style
                    .display = "none";
            }

            openNav("nav01");
            function openNav(id) {
                document
                    .getElementById("nav01")
                    .style
                    .display = "none";
                document
                    .getElementById("nav02")
                    .style
                    .display = "none";
                document
                    .getElementById("nav03")
                    .style
                    .display = "none";
                document
                    .getElementById(id)
                    .style
                    .display = "block";
            }
        </script>

        <script src="https://www.w3schools.com/lib/w3codecolor.js"></script>

        <script>
            w3CodeColor();
        </script>
        </div>
    </body>
</html>